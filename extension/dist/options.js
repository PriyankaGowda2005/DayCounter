import{u as N,r as d,j as e,c as b,R as v}from"./popup2.js";import{e as g,a as S,i as C}from"./utils.js";const E=()=>{const{events:n,loadEvents:r,clearAllEvents:m}=N(),[x,i]=d.useState("09:00");d.useEffect(()=>{r(),chrome.storage.local.get(["dailySummaryTime"],s=>{s.dailySummaryTime&&i(s.dailySummaryTime)})},[r]);const h=()=>{const s=g(n),l=new Blob([s],{type:"application/json"}),a=URL.createObjectURL(l),t=document.createElement("a");t.href=a,t.download=`daycounter-events-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a)},p=()=>{const s=S(n),l=new Blob([s],{type:"text/calendar"}),a=URL.createObjectURL(l),t=document.createElement("a");t.href=a,t.download=`daycounter-events-${new Date().toISOString().split("T")[0]}.ics`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a)},j=s=>{var t;const l=(t=s.target.files)==null?void 0:t[0];if(!l)return;const a=new FileReader;a.onload=f=>{var o;try{const c=C((o=f.target)==null?void 0:o.result);console.log("Imported events:",c),alert(`Successfully imported ${c.length} events`)}catch{alert("Failed to import events. Please check the file format.")}},a.readAsText(l)},u=()=>{confirm("Are you sure you want to clear all data? This cannot be undone.")&&(m(),alert("All data has been cleared"))},y=s=>{i(s),chrome.storage.local.set({dailySummaryTime:s}),chrome.runtime.sendMessage({type:"SCHEDULE_DAILY_SUMMARY",time:s})};return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:"üìÖ"}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"DayCounter Options"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[e.jsxs("div",{className:"card p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üîî"}),"Notifications"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daily Summary Time"}),e.jsxs("select",{value:x,onChange:s=>y(s.target.value),className:"input",children:[e.jsx("option",{value:"09:00",children:"9:00 AM"}),e.jsx("option",{value:"12:00",children:"12:00 PM"}),e.jsx("option",{value:"18:00",children:"6:00 PM"}),e.jsx("option",{value:"21:00",children:"9:00 PM"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Time to receive daily summary notifications"})]})})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚öôÔ∏è"}),"Data Management"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Export Data"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Download your events for backup or sharing"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:h,className:"btn-secondary flex items-center space-x-2",children:[e.jsx("span",{children:"üì•"}),e.jsx("span",{children:"Export JSON"})]}),e.jsxs("button",{onClick:p,className:"btn-secondary flex items-center space-x-2",children:[e.jsx("span",{children:"üì•"}),e.jsx("span",{children:"Export iCal"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Import Data"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Import events from a JSON backup file"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"file",accept:".json",onChange:j,className:"hidden",id:"import-file"}),e.jsxs("label",{htmlFor:"import-file",className:"btn-secondary flex items-center space-x-2 cursor-pointer",children:[e.jsx("span",{children:"üì§"}),e.jsx("span",{children:"Import JSON"})]})]})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"App Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Version"}),e.jsx("span",{className:"text-sm font-medium",children:"1.0.0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Events"}),e.jsx("span",{className:"text-sm font-medium",children:n.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Active Events"}),e.jsx("span",{className:"text-sm font-medium",children:n.filter(s=>!s.isArchived).length})]})]})]}),e.jsxs("div",{className:"card p-6 border-red-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-red-600 mb-4",children:"Danger Zone"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-600 mb-2",children:"Clear All Data"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Permanently delete all your events and data"}),e.jsxs("button",{onClick:u,className:"btn-danger flex items-center space-x-2",children:[e.jsx("span",{children:"üóëÔ∏è"}),e.jsx("span",{children:"Clear All Data"})]})]})})]})]})})]})};b.createRoot(document.getElementById("options-root")).render(e.jsx(v.StrictMode,{children:e.jsx(E,{})}));
